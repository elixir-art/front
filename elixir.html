<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamic Calendar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
  </head>
  <body class="bg-gray-900 min-h-screen flex items-center justify-center">
    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg w-96">
      <div class="flex justify-between items-center mb-4">
        <h2 id="calendar-title" class="text-lg font-bold text-gray-800 dark:text-gray-200">
        </h2>
        <div class="flex items-center space-x-4">
          <button
            id="toggle-theme"
            class="text-gray-500 hover:text-gray-800 dark:hover:text-gray-300 cursor-pointer"
          >
            ðŸŒ™
          </button>
          <div class="flex space-x-2">
            <button
              id="prev-month"
              class="text-gray-500 hover:text-gray-800 dark:hover:text-gray-300 cursor-pointer"
            >
              &lt;
            </button>
            <button
              id="next-month"
              class="text-gray-500 hover:text-gray-800 dark:hover:text-gray-300 cursor-pointer"
            >
              &gt;
            </button>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-7 text-center text-gray-500 dark:text-gray-400 mb-2">
        <div>Mo</div>
        <div>Tu</div>
        <div>We</div>
        <div>Th</div>
        <div>Fr</div>
        <div>Sa</div>
        <div>Su</div>
      </div>

      <div id="calendar-days" class="grid grid-cols-7 text-center gap-y-2">
      </div>
    </div>

    <script>
      const calendarDays = document.getElementById("calendar-days");
      const calendarTitle = document.getElementById("calendar-title");
      const prevMonthButton = document.getElementById("prev-month");
      const nextMonthButton = document.getElementById("next-month");
      const toggleThemeButton = document.getElementById("toggle-theme");

      let currentDate = new Date();

      function renderCalendar(date) {
        calendarDays.innerHTML = ""; 
        const year = date.getFullYear();
        const month = date.getMonth();

        const monthNames = [
          "January",
          "February",
          "March",
          "April",
          "May",
          "June",
          "July",
          "August",
          "September",
          "October",
          "November",
          "December",
        ];
        calendarTitle.textContent = `${monthNames[month]} ${year}`;

        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);

        const startDayIndex = (firstDay.getDay() + 6) % 7;
        for (let i = 0; i < startDayIndex; i++) {
          const emptyCell = document.createElement("div");
          calendarDays.appendChild(emptyCell);
        }

        for (let day = 1; day <= lastDay.getDate(); day++) {
          const dayCell = document.createElement("div");
          dayCell.textContent = day;
          dayCell.className =
            "p-2 mx-auto text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 cursor-pointer rounded-full";

          if (
            day === new Date().getDate() &&
            month === new Date().getMonth() &&
            year === new Date().getFullYear()
          ) {
            dayCell.classList.add(
              "bg-red-500",
              "text-white",
              "font-bold",
              "hover:bg-red-600"
            );
          }

          calendarDays.appendChild(dayCell);
        }
      }

      prevMonthButton.addEventListener("click", () => {
        currentDate.setMonth(currentDate.getMonth() - 1);
        renderCalendar(currentDate);
      });

      nextMonthButton.addEventListener("click", () => {
        currentDate.setMonth(currentDate.getMonth() + 1);
        renderCalendar(currentDate);
      });

      toggleThemeButton.addEventListener("click", () => {
        document.documentElement.classList.toggle("dark");
      });

      renderCalendar(currentDate);
    </script>
  </body>
</html>
